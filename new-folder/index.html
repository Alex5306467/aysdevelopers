<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–∞—Ä—Ç–æ—á–∫–∏ ¬∑ –ò—Å–ø–∞–Ω—Å–∫–∏–π ‚Üí –†—É—Å—Å–∫–∏–π (Demo)</title>
  <meta name="description" content="–ú–∏–Ω–∏-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∫–∞–∫ –≤ Quizlet: 10 —Å–ª–æ–≤ –∏—Å–ø–∞–Ω—Å–∫–∏–π‚Üí—Ä—É—Å—Å–∫–∏–π, —Ñ–ª–∏–ø, —à–∞–ø–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —à–∏—Ñ–ª, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞." />
  <style>
    :root{
      --bg: #f4f7f5;             /* –æ–±—â–∏–π —Ñ–æ–Ω ‚Äî –ø–æ—á—Ç–∏ –±–µ–ª—ã–π */
      --mint: #d8f3e3;           /* –ø–∞—Å—Ç–µ–ª—å–Ω—ã–π –∑–µ–ª—ë–Ω—ã–π */
      --mint-strong: #a8dec6;    
      --sage: #cfe8d5;           /* –≤—Ç–æ—Ä–æ–π –∑–µ–ª—ë–Ω—ã–π */
      --lilac: #e9e4ff;          /* –ø–∞—Å—Ç–µ–ª—å–Ω–∞—è –ª–∏–ª–æ–≤–∞—è */
      --peach: #ffe9da;          /* –ø–∞—Å—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä—Å–∏–∫ */
      --ink: #20322f;            /* —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç */
      --muted: #5a6c67;          /* –≤—Ç–æ—Ä–æ–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
      --card: #ffffff;           /* —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫ */
      --accent: #3aa981;         /* –∑–µ–ª—ë–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
      --accent-2: #6f6dbd;       /* –ª–∏–ª–æ–≤—ã–π –∞–∫—Ü–µ–Ω—Ç –¥–ª—è –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã—Ö */
      --shadow: 0 10px 30px rgba(32,50,47,.08);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, 'Helvetica Neue', Arial, 'Apple Color Emoji','Segoe UI Emoji';
      background: linear-gradient(160deg, var(--mint) 0%, var(--bg) 40%, var(--lilac) 100%);
      color:var(--ink);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .container{max-width:960px;margin:0 auto;padding:24px}
    header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:18px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:40px;height:40px;border-radius:12px;background:radial-gradient(circle at 25% 25%, var(--mint-strong), var(--sage));box-shadow: var(--shadow)}
    .brand h1{font-size:18px;margin:0;font-weight:700}
    .sub{font-size:13px;color:var(--muted)}

    .toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:flex-end}
    button, .chip{appearance:none;border:none;cursor:pointer;border-radius:14px;padding:10px 14px;font-weight:600}
    .btn{background:var(--accent);color:white;box-shadow:var(--shadow)}
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .btn-secondary{background:var(--accent-2);color:white}
    .chip{background:rgba(255,255,255,.6);color:var(--ink);backdrop-filter:saturate(160%) blur(2px)}

    .progress{width:100%;background:rgba(255,255,255,.5);height:12px;border-radius:16px;overflow:hidden;box-shadow:var(--shadow);margin:12px 0 20px}
    .bar{height:100%;width:0;background:linear-gradient(90deg, var(--accent), #56c7a2);transition:width .3s ease}

    .stage{display:grid;grid-template-columns:1fr;gap:16px}

    .card-wrap{perspective:1200px; -webkit-perspective:1200px}
    .card{
      position:relative;width:100%;min-height:280px;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
      transform-style:preserve-3d; -webkit-transform-style:preserve-3d; will-change: transform; transition:transform .5s ease;overflow:hidden
    }
    /* –§–ª–∏–ø-—Ñ–∏–∫—Å: –∫—Ä—É—Ç–∏–º –°–¢–û–†–û–ù–´, –∞ –Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .side{
      position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:28px 24px;
      backface-visibility:hidden; -webkit-backface-visibility:hidden; transform: translateZ(0);
    }
    .front{transform: rotateY(0deg);background:linear-gradient( 180deg, #ffffff 0%, var(--peach) 100%)}
    .back{transform: rotateY(180deg);background:linear-gradient(180deg, #ffffff 0%, var(--mint) 100%)}
    .card.flipped{transform:none !important}
    .card.flipped .front{transform:rotateY(180deg) !important}
    .card.flipped .back{transform:rotateY(0deg) !important}

    .term{font-size:36px;letter-spacing:.3px;text-align:center;margin:0 0 10px}
    .hint{font-size:14px;color:var(--muted);text-align:center;margin:0}

    .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:center;margin-top:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:center}

    .panel{background:rgba(255,255,255,.6);border-radius:var(--radius);padding:14px 16px;display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:space-between;box-shadow:var(--shadow)}
    .stat{font-size:14px;color:var(--muted)}

    .list{margin-top:18px;display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:10px}
    details{background:rgba(255,255,255,.5);border-radius:12px;padding:10px 12px;box-shadow:var(--shadow)}
    summary{cursor:pointer;font-weight:600}
    .small{font-size:13px;color:var(--muted)}

    footer{margin-top:28px;color:var(--muted);font-size:12px;text-align:center}
    .kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;background:#fff;border-radius:6px;border:1px solid #cbd5d1;padding:0 6px}

    @media (min-width: 820px){.stage{grid-template-columns: 1.2fr .8fr}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>–ö–∞—Ä—Ç–æ—á–∫–∏ ¬∑ –ò—Å–ø–∞–Ω—Å–∫–∏–π ‚Üí –†—É—Å—Å–∫–∏–π</h1>
          <div class="sub">–ü—Ä–æ–±–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–¥–µ–º–æ –∫–∞–∫ –≤ Quizlet) ¬∑ 10 —Å–ª–æ–≤</div>
        </div>
      </div>
      <div class="toolbar">
        <button class="chip" id="shuffleBtn" title="–ü–µ—Ä–µ–º–µ—à–∞—Ç—å">üîÄ –ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
        <button class="chip" id="toggleLangBtn" title="–ü–æ–º–µ–Ω—è—Ç—å —Å—Ç–æ—Ä–æ–Ω—É">‚ÜîÔ∏è –ü–æ–º–µ–Ω—è—Ç—å —Å—Ç–æ—Ä–æ–Ω—É (ES/RU)</button>
        <button class="chip" id="restartBtn" title="–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å">‚ôªÔ∏è –°–±—Ä–æ—Å</button>
      </div>
    </header>

    <div class="progress" aria-label="–ø—Ä–æ–≥—Ä–µ—Å—Å"><div class="bar" id="bar"></div></div>

    <div class="stage">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ -->
      <div class="card-wrap">
        <article class="card" id="card">
          <section class="side front" aria-live="polite">
            <h2 class="term" id="frontTerm">‚Äî</h2>
            <p class="hint">–ù–∞–∂–º–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∏–ª–∏ –ø—Ä–æ–±–µ–ª ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</p>
          </section>
          <section class="side back">
            <h2 class="term" id="backTerm">‚Äî</h2>
            <p class="hint" id="example">&nbsp;</p>
          </section>
        </article>
        <div class="controls">
          <button class="btn-secondary" id="prevBtn" title="–ü—Ä–µ–¥—ã–¥—É—â–∞—è (‚Üê)">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</button>
          <button class="btn" id="flipBtn" title="–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å (Space)">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</button>
          <button class="btn-secondary" id="nextBtn" title="–°–ª–µ–¥—É—é—â–∞—è (‚Üí)">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</button>
        </div>
        <div class="controls">
          <button class="chip" id="hardBtn" title="–°–ª–æ–∂–Ω–æ (1)">–°–ª–æ–∂–Ω–æ</button>
          <button class="chip" id="goodBtn" title="–ù–æ—Ä–º–∞–ª—å–Ω–æ (2)">–ù–æ—Ä–º–∞–ª—å–Ω–æ</button>
          <button class="chip" id="easyBtn" title="–õ–µ–≥–∫–æ (3)">–õ–µ–≥–∫–æ</button>
        </div>
      </div>

      <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
      <aside>
        <div class="panel">
          <div class="stat">–ö–∞—Ä—Ç–æ—á–∫–∞ <span id="idx">1</span>/<span id="total">10</span></div>
          <div class="row small">
            <span>–ö–ª–∞–≤–∏—à–∏: <span class="kbd">Space</span> ‚Äî —Ñ–ª–∏–ø, <span class="kbd">‚Üê/‚Üí</span> ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è, <span class="kbd">1/2/3</span> ‚Äî –æ—Ü–µ–Ω–∫–∞</span>
          </div>
        </div>

        <div class="list" id="miniList"></div>

        <details>
          <summary>–û –Ω–∞–±–æ—Ä–µ</summary>
          <div class="small">–°–ª–æ–≤–∞ –≤–∑—è—Ç—ã –∏–∑ –ª–∏—á–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è (–¥–µ–º–æ): contrase√±a, hambre, av√≠senme, podido, empanadas, parrillada, primera vez, correo, desconocidos, caduc√≥.</div>
        </details>
      </aside>
    </div>

    <footer>–°–¥–µ–ª–∞–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞—Ä—Ç–æ—á–µ–∫. –ü–æ–¥ GitHub Pages –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–¥–∏–Ω HTML-—Ñ–∞–π–ª.</footer>
  </div>

<script>
  // === –î–∞–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä–∞ (10 —Å–ª–æ–≤) ===
  const CARDS_SRC = [
    { front: 'contrase√±a', back: '–ø–∞—Ä–æ–ª—å', example: 'Por favor, no compartas tu contrase√±a con desconocidos.' },
    { front: 'hambre', back: '–≥–æ–ª–æ–¥', example: 'Tengo mucha hambre, ¬øvamos a comer?' },
    { front: 'av√≠senme', back: '—Å–æ–æ–±—â–∏—Ç–µ –º–Ω–µ / –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å', example: 'Av√≠senme si llegan tarde, por favor.' },
    { front: 'podido', back: '—Å–º–æ–≥ / —É–¥–∞–ª–æ—Å—å (participio de poder)', example: 'No he podido llamarte hoy.' },
    { front: 'empanadas', back: '—ç–º–ø–∞–Ω–∞–¥–∞—Å (–ø–∏—Ä–æ–∂–∫–∏)', example: 'Ayer probamos empanadas argentinas.' },
    { front: 'parrillada', back: '–∞—Å—Å–æ—Ä—Ç–∏ –≥—Ä–∏–ª—è', example: 'El domingo hacemos una parrillada con amigos.' },
    { front: 'primera vez', back: '–ø–µ—Ä–≤—ã–π —Ä–∞–∑', example: 'Es mi primera vez en Mendoza.' },
    { front: 'correo', back: '–ø–æ—á—Ç–∞ / –ø–∏—Å—å–º–æ', example: 'Te mand√© el contrato por correo.' },
    { front: 'desconocidos', back: '–Ω–µ–∑–Ω–∞–∫–æ–º—Ü—ã', example: 'No hables con desconocidos en la calle.' },
    { front: 'caduc√≥', back: '–∏—Å—Ç—ë–∫ —Å—Ä–æ–∫ (–≥–æ–¥–Ω–æ—Å—Ç–∏)', example: 'La tarjeta caduc√≥ el mes pasado.' }
  ];

  const STATE_KEY = 'flashcards_demo_state_v2';

  const els = {
    card: document.getElementById('card'),
    front: document.getElementById('frontTerm'),
    back: document.getElementById('backTerm'),
    example: document.getElementById('example'),
    idx: document.getElementById('idx'),
    total: document.getElementById('total'),
    bar: document.getElementById('bar'),
    miniList: document.getElementById('miniList'),
    buttons: {
      flip: document.getElementById('flipBtn'),
      prev: document.getElementById('prevBtn'),
      next: document.getElementById('nextBtn'),
      shuffle: document.getElementById('shuffleBtn'),
      restart: document.getElementById('restartBtn'),
      toggleLang: document.getElementById('toggleLangBtn'),
      hard: document.getElementById('hardBtn'),
      good: document.getElementById('goodBtn'),
      easy: document.getElementById('easyBtn'),
    }
  };

  // –°–æ—Å—Ç–æ—è–Ω–∏–µ
  let cards = [...CARDS_SRC];
  let index = 0;
  let flipped = false;
  let reversed = false; // ES‚ÜíRU (false) –∏–ª–∏ RU‚ÜíES (true)
  let grades = Array(cards.length).fill(null); // 0/1/2 –¥–ª—è —Å–ª–æ–∂–Ω–æ/–Ω–æ—Ä–º/–ª–µ–≥–∫–æ

  function saveState(){
    const state = { cards, index, reversed, grades };
    localStorage.setItem(STATE_KEY, JSON.stringify(state));
  }
  function loadState(){
    const raw = localStorage.getItem(STATE_KEY);
    if(!raw) return;
    try{
      const st = JSON.parse(raw);
      if(Array.isArray(st.cards) && typeof st.index==='number'){
        cards = st.cards; index = Math.min(st.index, cards.length-1);
        reversed = !!st.reversed; grades = st.grades || grades;
      }
    }catch(e){/* ignore */}
  }

  function shuffleInPlace(arr){
    for(let i=arr.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [arr[i],arr[j]]=[arr[j],arr[i]];
    }
  }

  function updateProgress(){
    const answered = grades.filter(g=>g!==null).length;
    const pct = Math.round((answered/cards.length)*100);
    els.bar.style.width = pct+'%';
  }

  function renderMiniList(){
    els.miniList.innerHTML = cards.map((c, i)=>{
      const mark = grades[i]===null? '‚Ä¢' : grades[i]===0? 'üòµ' : grades[i]===1? 'üôÇ' : 'üòé';
      return `<button class="chip" data-jump="${i}" title="–ü–µ—Ä–µ–π—Ç–∏ –∫ #${i+1}">${mark} ${i+1}. ${(reversed?c.back:c.front).slice(0,18)}</button>`
    }).join('');
    els.miniList.querySelectorAll('button').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const to = Number(btn.dataset.jump) || 0;
        index = to; flipped = false; render(); saveState();
      });
    });
  }

  function render(){
    const c = cards[index];
    els.total.textContent = cards.length;
    els.idx.textContent = index+1;

    const frontText = reversed ? c.back : c.front;
    const backText  = reversed ? c.front : c.back;

    els.front.textContent = frontText;
    els.back.textContent = backText;
    els.example.textContent = reversed ? '' : (c.example || '');

    // –ø—Ä–∏–º–µ–Ω—è–µ–º –∫–ª–∞—Å—Å flipped –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É, –Ω–æ –≤—Ä–∞—â–∞–µ–º –°–¢–û–†–û–ù–´ (—Å–º. CSS)
    if(flipped) els.card.classList.add('flipped');
    else els.card.classList.remove('flipped');

    updateProgress();
    renderMiniList();

    els.buttons.prev.disabled = index===0;
    els.buttons.next.disabled = index===cards.length-1;
  }

  function gradeCurrent(v){
    grades[index] = v; // 0/1/2
    if(index < cards.length-1){ index++; flipped=false; }
    render();
    saveState();
  }

  // –°–ª—É—à–∞—Ç–µ–ª–∏
  els.card.addEventListener('click', ()=>{ flipped = !flipped; render(); saveState(); });
  els.buttons.flip.addEventListener('click', ()=>{ flipped = !flipped; render(); saveState(); });
  els.buttons.prev.addEventListener('click', ()=>{ if(index>0){ index--; flipped=false; render(); saveState(); } });
  els.buttons.next.addEventListener('click', ()=>{ if(index<cards.length-1){ index++; flipped=false; render(); saveState(); } });
  els.buttons.shuffle.addEventListener('click', ()=>{ shuffleInPlace(cards); index=0; flipped=false; grades = Array(cards.length).fill(null); render(); saveState(); });
  els.buttons.restart.addEventListener('click', ()=>{ index=0; flipped=false; grades = Array(cards.length).fill(null); cards=[...CARDS_SRC]; render(); saveState(); });
  els.buttons.toggleLang.addEventListener('click', ()=>{ reversed = !reversed; flipped=false; render(); saveState(); });

  els.buttons.hard.addEventListener('click', ()=> gradeCurrent(0));
  els.buttons.good.addEventListener('click', ()=> gradeCurrent(1));
  els.buttons.easy.addEventListener('click', ()=> gradeCurrent(2));

  document.addEventListener('keydown', (e)=>{
    if(e.code==='Space'){ e.preventDefault(); flipped=!flipped; render(); saveState(); }
    else if(e.key==='ArrowRight'){ e.preventDefault(); if(index<cards.length-1){ index++; flipped=false; render(); saveState(); } }
    else if(e.key==='ArrowLeft'){ e.preventDefault(); if(index>0){ index--; flipped=false; render(); saveState(); } }
    else if(e.key==='1'){ gradeCurrent(0); }
    else if(e.key==='2'){ gradeCurrent(1); }
    else if(e.key==='3'){ gradeCurrent(2); }
  });

  loadState();
  render();
</script>
</body>
</html>
